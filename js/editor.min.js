function sortByID(t,s){return t.id<s.id?-1:t.id>s.id?1:0}var vm="";window.onload=function(){Vue.component("v-select",VueSelect.VueSelect),vm=new Vue({el:"#app",data:{settings:{},missions:[],selectedMission:null,exportData:""},created:function(){var t=this,s=localStorage.getItem("editMissionSavePoint");null!=s&&(t.$data.missions=getMissionsFromData(JSON.parse(s)).sort(sortByID)),fetch("js/data/missions.json").then(function(s){s.json().then(function(s){t.$data.missions=getMissionsFromData(s.missions).sort(t.sortByTitle),t.$data.settings={version:s.version,last_update:void 0!==s.last_update?s.last_update:"",program_types:s.program_types,durations:s.durations,series:s.series,teams:s.teams,positions:s.positions}})}),t.$data.selectedMission=t.createEmptyMission()},mounted:function(){},updated:function(){},methods:{getNextID:function(){return this.$data.missions[this.$data.missions.length-1].id+1},editRow:function(t){this.$data.selectedMission=t,this.$refs.addModal.show()},exportMissions:function(){this.$data.exportData=JSON.stringify(this.$data.missions,function(t,s){if("title"!=t&&"current"!=t&&"completed"!=t)return s})},addRow:function(){this.$data.selectedMission=this.createEmptyMission(this.getNextID()),this.$refs.addModal.show()},addRequirement:function(){this.$data.selectedMission.requirements.push(new Requirement({}))},removeRequirement:function(t){this.$data.selectedMission.requirements.splice(this.$data.selectedMission.requirements.indexOf(t),1)},updateSavePoint:function(){localStorage.setItem("editMissionSavePoint",JSON.stringify(this.$data.missions,function(t,s){if("title"!=t&&"current"!=t&&"completed"!=t)return s}))},createEmptyMission:function(t){return void 0!==t?new Mission({id:t,requirements:[]}):new Mission({requirements:[]})},rowSaved:function(){this.$data.selectedMission.id==this.getNextID()&&this.$data.missions.push(this.$data.selectedMission),this.updateSavePoint()}}})};