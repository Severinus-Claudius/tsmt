function sortByName(e,i){return e.player<i.player?-1:e.player>i.player?1:0}function copyRecordFromDefault(e){var i=vm.$data.missions,t=i.filter(function(i){return i.id===e})[0];return t.requirements=copyRequirementsFromDefault(t.id),t}function copyRequirementsFromDefault(e){var i=vm.$data.missions,t=i.filter(function(i){return i.id===e})[0].requirements.map(function(e){return new Requirement(e)});return t}function updateRequirements(e){var i=[];return i=e.map(function(e){return new Requirement(e)})}function updateRecords(e){var i=[];return i=e.map(function(e){if("undefined"==typeof e.program_type){var i=copyRecordFromDefault(e.value);return i.requirements=updateRequirements(e.requirements),i}return e})}var vm="";window.onload=function(){Vue.component("v-select",VueSelect.VueSelect),vm=new Vue({el:"#app",data:{missions:[],defaults:{version:"0.0.0",missions:[],program_types:[],durations:[],series:[],teams:[],positions:[]},activeMissions:[],selectedMission:null,filteredMissions:[],selectedFilter:null},created:function(){var e=this;jQuery.getJSON("js/data/missions.json",function(i){e.$data.missions=getMissionsFromData(i.missions),e.$data.defaults=i,e.$data.filteredMissions=e.$data.missions})},mounted:function(){this.activeMissions=this.getActiveMissions()},updated:function(){this.saveActiveMissions()},watch:{selectedFilter:function(e){this.updateFilter(e)}},methods:{handleOK:function(e){if(null!=this.selectedMission){if(!this.hasActiveMission(this.activeMissions,this.selectedMission)){var i=copyRecordFromDefault(this.selectedMission.id);i.requirements=copyRequirementsFromDefault(this.selectedMission.id),this.activeMissions.push(this.selectedMission)}this.selectedMission=null}},getActiveMissions:function(){var e=localStorage.getItem("CurrentActiveMissions");return null!=e?e=getMissionsFromData(updateRecords(JSON.parse(e))):[]},saveActiveMissions:function(e){localStorage.setItem("CurrentActiveMissions",JSON.stringify(this.activeMissions))},hasActiveMission:function(e,i){return e.filter(function(e){return e.id===i.id}).length>0},requirementIncrease:function(e){e.current<e.goal&&(e.current+=1)},requirementReset:function(e){e.current=0},requirementResetAll:function(e){for(var i=e.requirements,t=0;t<i.length;t++)i[t].current=0},isRequirementComplete:function(e){return e.current>=e.goal},isRequirementStarted:function(e){return e.current>0},areAllRequirementsComplete:function(e){for(var i=!0,t=e.requirements,s=0;s<t.length;s++)t[s].goal>t[s].current&&(i=!1);return i},removeActiveMission:function(e,i){for(var t=0;t<e.length;t++)if(e[t].id==i.id){e.splice(t,1);break}},clearActiveMissions:function(){this.activeMissions=[]},updateFilter:function(e){console.log(e),null!=e?this.$data.filteredMissions=this.$data.missions.filter(function(i){return i.program_type===e}):this.$data.filteredMissions=this.$data.missions}}})};